[BACK](./README.md)

# Pandas работа с данными в примерах

## Чтение и запись данных

* `pd.read_csv()`: Чтение данных из CSV-файлов.

```python
import pandas as pd

df = pd.read_csv('data.csv')
```

* `pd.read_excel()`: Чтение данных из файлов Excel.

```python
df = pd.read_excel('data.xlsx')
```

* `df.to_csv()`: Запись DataFrame в CSV-файл. 

```python
df.to_csv('output.csv', index=False)
```

* `df.to_excel()`: Запись DataFrame в файл Excel.

```python
df.to_excel('output.xlsx', index=False)
```

* `pd.read_sql()`: Чтение данных из базы данных SQL.

```python
import sqlite3

conn = sqlite3.connect('database.db')
df = pd.read_sql('SELECT * FROM table_name', conn)
```

* `df.to_sql()`: Запись DataFrame в базу данных SQL.

```python
df.to_sql('table_name', conn, if_exists='replace', index=False)
```

## Очистка и предварительная обработка данных:

* `df.dropna()`: Удаление строк с отсутствующими значениями.

```python
df = df.dropna()
```

* `df.fillna()`: Заполнение отсутствующих значений.

```python
df = df.fillna(0)  # Заполнение нулями
df = df.fillna(method='ffill')  # Заполнение предыдущим значением
```

* `df.drop_duplicates()`: Удаление повторяющихся строк.

```python
df = df.drop_duplicates()
```

* `df.astype()`: Преобразование типов данных.

```python
df['column_name'] = df['column_name'].astype('int')
```

* `df.rename()`: Переименование столбцов.

```python
df = df.rename(columns={'old_name': 'new_name'})
```

## Выборка и фильтрация данных:

* `df["column_name"]`: Выбор столбца.

```python
column_data = df['column_name']
```

* `df.loc[]`: Выбор строк и столбцов по меткам.

```python
df.loc[row_label, column_label]
```

* `df.iloc[]`: Выбор строк и столбцов по целочисленным индексам.

```python
df.iloc[row_index, column_index]
```

* `df[df['column_name'] > value]`: Фильтрация строк на основе условия.

```python
filtered_df = df[df['age'] > 30]
```

## Преобразование данных:

* `df.groupby()`: Группировка данных.

```python
grouped_df = df.groupby('category')['value'].sum()
```

* `df.pivot_table()`: Создание сводной таблицы.

```python
pivot_table = pd.pivot_table(df, values='value', index='row', columns='column')
```

* `df.merge()`: Объединение DataFrame.

```python
merged_df = pd.merge(df1, df2, on='common_column')
```

* `df.apply()`: Применение функции к столбцу или строке.

```python
df['new_column'] = df['old_column'].apply(lambda x: x * 2)
```

## Анализ данных:

* `df.describe()`: Получение сводной статистики.

```python
statistics = df.describe()
```

* `df.corr()`: Расчет корреляции.

```python
correlation = df.corr()
```

* `df.value_counts()`: Подсчет уникальных значений.

```python
counts = df['column_name'].value_counts()
```

## Работа с временными рядами:

* `pd.to_datetime()`: Преобразование столбца в тип datetime.

```python
df['date'] = pd.to_datetime(df['date'])
```

* `df.resample()`: Передискретизация временных рядов.

```python
resampled_df = df.resample('D').mean()  # Ежедневное среднее
```